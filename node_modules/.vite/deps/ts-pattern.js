import "./chunk-LK32TJAX.js";

// node_modules/ts-pattern/dist/index.js
var n = Symbol("@ts-pattern/matcher");
var t = "@ts-pattern/anonymous-select-key";
var e = function(n2) {
  return Boolean(n2 && "object" == typeof n2);
};
var r = function(t4) {
  return t4 && !!t4[n];
};
var u = function t2(u2, i2, c2) {
  if (e(u2)) {
    if (r(u2)) {
      var o2 = u2[n]().match(i2), a2 = o2.matched, f2 = o2.selections;
      return a2 && f2 && Object.keys(f2).forEach(function(n2) {
        return c2(n2, f2[n2]);
      }), a2;
    }
    if (!e(i2)) return false;
    if (Array.isArray(u2)) return !!Array.isArray(i2) && u2.length === i2.length && u2.every(function(n2, e2) {
      return t2(n2, i2[e2], c2);
    });
    if (u2 instanceof Map) return i2 instanceof Map && Array.from(u2.keys()).every(function(n2) {
      return t2(u2.get(n2), i2.get(n2), c2);
    });
    if (u2 instanceof Set) {
      if (!(i2 instanceof Set)) return false;
      if (0 === u2.size) return 0 === i2.size;
      if (1 === u2.size) {
        var s2 = Array.from(u2.values())[0];
        return r(s2) ? Array.from(i2.values()).every(function(n2) {
          return t2(s2, n2, c2);
        }) : i2.has(s2);
      }
      return Array.from(u2.values()).every(function(n2) {
        return i2.has(n2);
      });
    }
    return Object.keys(u2).every(function(e2) {
      var o3, a3 = u2[e2];
      return (e2 in i2 || r(o3 = a3) && "optional" === o3[n]().matcherType) && t2(a3, i2[e2], c2);
    });
  }
  return Object.is(i2, u2);
};
var i = function t3(u2) {
  var i2, o2, a2;
  return e(u2) ? r(u2) ? null != (i2 = null == (o2 = (a2 = u2[n]()).getSelectionKeys) ? void 0 : o2.call(a2)) ? i2 : [] : Array.isArray(u2) ? c(u2, t3) : c(Object.values(u2), t3) : [];
};
var c = function(n2, t4) {
  return n2.reduce(function(n3, e2) {
    return n3.concat(t4(e2));
  }, []);
};
function o(t4) {
  var e2;
  return (e2 = {})[n] = function() {
    return { match: function(n2) {
      var e3 = {}, r2 = function(n3, t5) {
        e3[n3] = t5;
      };
      return void 0 === n2 ? (i(t4).forEach(function(n3) {
        return r2(n3, void 0);
      }), { matched: true, selections: e3 }) : { matched: u(t4, n2, r2), selections: e3 };
    }, getSelectionKeys: function() {
      return i(t4);
    }, matcherType: "optional" };
  }, e2;
}
function a(t4) {
  var e2;
  return (e2 = {})[n] = function() {
    return { match: function(n2) {
      if (!Array.isArray(n2)) return { matched: false };
      var e3 = {};
      if (0 === n2.length) return i(t4).forEach(function(n3) {
        e3[n3] = [];
      }), { matched: true, selections: e3 };
      var r2 = function(n3, t5) {
        e3[n3] = (e3[n3] || []).concat([t5]);
      };
      return { matched: n2.every(function(n3) {
        return u(t4, n3, r2);
      }), selections: e3 };
    }, getSelectionKeys: function() {
      return i(t4);
    } };
  }, e2;
}
function f() {
  var t4, e2 = [].slice.call(arguments);
  return (t4 = {})[n] = function() {
    return { match: function(n2) {
      var t5 = {}, r2 = function(n3, e3) {
        t5[n3] = e3;
      };
      return { matched: e2.every(function(t6) {
        return u(t6, n2, r2);
      }), selections: t5 };
    }, getSelectionKeys: function() {
      return c(e2, i);
    }, matcherType: "and" };
  }, t4;
}
function s() {
  var t4, e2 = [].slice.call(arguments);
  return (t4 = {})[n] = function() {
    return { match: function(n2) {
      var t5 = {}, r2 = function(n3, e3) {
        t5[n3] = e3;
      };
      return c(e2, i).forEach(function(n3) {
        return r2(n3, void 0);
      }), { matched: e2.some(function(t6) {
        return u(t6, n2, r2);
      }), selections: t5 };
    }, getSelectionKeys: function() {
      return c(e2, i);
    }, matcherType: "or" };
  }, t4;
}
function l(t4) {
  var e2;
  return (e2 = {})[n] = function() {
    return { match: function(n2) {
      return { matched: !u(t4, n2, function() {
      }) };
    }, getSelectionKeys: function() {
      return [];
    }, matcherType: "not" };
  }, e2;
}
function h(t4) {
  var e2;
  return (e2 = {})[n] = function() {
    return { match: function(n2) {
      return { matched: Boolean(t4(n2)) };
    } };
  }, e2;
}
function v() {
  var e2, r2 = [].slice.call(arguments), c2 = "string" == typeof r2[0] ? r2[0] : void 0, o2 = 2 === r2.length ? r2[1] : "string" == typeof r2[0] ? void 0 : r2[0];
  return (e2 = {})[n] = function() {
    return { match: function(n2) {
      var e3, r3 = ((e3 = {})[null != c2 ? c2 : t] = n2, e3);
      return { matched: void 0 === o2 || u(o2, n2, function(n3, t4) {
        r3[n3] = t4;
      }), selections: r3 };
    }, getSelectionKeys: function() {
      return [null != c2 ? c2 : t].concat(void 0 === o2 ? [] : i(o2));
    } };
  }, e2;
}
var y = h(function(n2) {
  return true;
});
var m = y;
var d = h(function(n2) {
  return "string" == typeof n2;
});
var g = h(function(n2) {
  return "number" == typeof n2;
});
var p = h(function(n2) {
  return "boolean" == typeof n2;
});
var b = h(function(n2) {
  return "bigint" == typeof n2;
});
var w = h(function(n2) {
  return "symbol" == typeof n2;
});
var A = h(function(n2) {
  return null == n2;
});
var S = { __proto__: null, optional: o, array: a, intersection: f, union: s, not: l, when: h, select: v, any: y, _: m, string: d, number: g, boolean: p, bigint: b, symbol: w, nullish: A, instanceOf: function(n2) {
  return h(/* @__PURE__ */ function(n3) {
    return function(t4) {
      return t4 instanceof n3;
    };
  }(n2));
}, typed: function() {
  return { array: a, optional: o, intersection: f, union: s, not: l, select: v, when: h };
} };
function K(n2) {
  return new O(n2, []);
}
var O = function() {
  function n2(n3, t4) {
    this.value = void 0, this.cases = void 0, this.value = n3, this.cases = t4;
  }
  var e2 = n2.prototype;
  return e2.with = function() {
    var e3 = [].slice.call(arguments), r2 = e3[e3.length - 1], i2 = [e3[0]], c2 = [];
    return 3 === e3.length && "function" == typeof e3[1] ? (i2.push(e3[0]), c2.push(e3[1])) : e3.length > 2 && i2.push.apply(i2, e3.slice(1, e3.length - 1)), new n2(this.value, this.cases.concat([{ match: function(n3) {
      var e4 = {}, r3 = Boolean(i2.some(function(t4) {
        return u(t4, n3, function(n4, t5) {
          e4[n4] = t5;
        });
      }) && c2.every(function(t4) {
        return t4(n3);
      }));
      return { matched: r3, value: r3 && Object.keys(e4).length ? t in e4 ? e4[t] : e4 : n3 };
    }, handler: r2 }]));
  }, e2.when = function(t4, e3) {
    return new n2(this.value, this.cases.concat([{ match: function(n3) {
      return { matched: Boolean(t4(n3)), value: n3 };
    }, handler: e3 }]));
  }, e2.otherwise = function(t4) {
    return new n2(this.value, this.cases.concat([{ match: function(n3) {
      return { matched: true, value: n3 };
    }, handler: t4 }])).run();
  }, e2.exhaustive = function() {
    return this.run();
  }, e2.run = function() {
    for (var n3 = this.value, t4 = void 0, e3 = 0; e3 < this.cases.length; e3++) {
      var r2 = this.cases[e3], u2 = r2.match(this.value);
      if (u2.matched) {
        n3 = u2.value, t4 = r2.handler;
        break;
      }
    }
    if (!t4) {
      var i2;
      try {
        i2 = JSON.stringify(this.value);
      } catch (n4) {
        i2 = this.value;
      }
      throw new Error("Pattern matching error: no pattern matches value " + i2);
    }
    return t4(n3, this.value);
  }, n2;
}();
function j() {
  var n2 = [].slice.call(arguments);
  if (1 === n2.length) {
    var t4 = n2[0];
    return function(n3) {
      return u(t4, n3, function() {
      });
    };
  }
  if (2 === n2.length) return u(n2[0], n2[1], function() {
  });
  throw new Error("isMatching wasn't given the right number of arguments: expected 1 or 2, received " + n2.length + ".");
}
export {
  S as P,
  S as Pattern,
  j as isMatching,
  K as match
};
//# sourceMappingURL=ts-pattern.js.map
